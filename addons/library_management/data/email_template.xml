<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="email_template_library_request" model="mail.template">
        <field name="name">Library Request Confirmation</field>
        <field name="model_id" ref="model_library_request"/>
        <field name="email_from">${object.company_id.email or 'library@example.com'}</field>
        <field name="email_to">${object.email}</field>
        <field name="subject">Your Book Request Confirmation</field>
        <field name="body_html"><![CDATA[
            <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
                <div style="background-color: #f8f9fa; padding: 20px; text-align: center;">
                    <h2 style="color: #007bff;">Library Request Confirmation</h2>
                </div>
                <div style="padding: 20px;">
                    <p>Dear ${object.name},</p>
                    <p>Thank you for your book request at ${object.company_id.name or 'our library'}. Here are the details:</p>
                    
                    <table style="width: 100%; border-collapse: collapse; margin: 15px 0;">
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; width: 30%;"><strong>Request ID:</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;">${object.id}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Book Title:</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;">${object.book_title}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Request Date:</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd;">${format_datetime(object.date_requested)}</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;"><strong>Status:</strong></td>
                            <td style="padding: 8px; border: 1px solid #ddd; text-transform: capitalize;">${object.state}</td>
                        </tr>
                    </table>
                    
                    <p>Notes: ${object.notes or 'None provided'}</p>
                    
                    <p>We will process your request and notify you when it's ready for pickup.</p>
                    
                    <p>Best regards,<br/>
                    The Library Team<br/>
                    ${object.company_id.name or ''}</p>
                </div>
                <div style="background-color: #f8f9fa; padding: 10px; text-align: center; font-size: 12px;">
                    <p>This is an automated message. Please do not reply directly to this email.</p>
                </div>
            </div>
        ]]></field>
    </record>
</odoo>